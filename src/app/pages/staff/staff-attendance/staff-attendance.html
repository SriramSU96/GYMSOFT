<div>
    <div>
        <div>
            <h2>Staff Attendance</h2>
            <p>Marking attendance for {{ currentDate | date:'fullDate' }}</p>
        </div>
    </div>

    <div>
        <div *ngFor="let staff of staff$ | async">
            <div>
                <div>
                    <span>person</span>
                </div>
                <div>
                    <h3>{{ staff.name }}</h3>
                    <p>{{ staff.role }}</p>
                </div>
            </div>

            <div>
                <button [class.btn-success]="attendance[staff.id] === 'present'"
                    (click)="markAttendance(staff.id, 'present')">
                    <span>Present</span>
                    <span *ngIf="attendance[staff.id] === 'present'">check_circle</span>
                </button>
                <button [class.btn-danger]="attendance[staff.id] === 'absent'"
                    (click)="markAttendance(staff.id, 'absent')">
                    <span>Absent</span>
                    <span *ngIf="attendance[staff.id] === 'absent'">cancel</span>
                </button>
                <button [class.btn-warning]="attendance[staff.id] === 'leave'"
                    (click)="markAttendance(staff.id, 'leave')">
                    <span>On Leave</span>
                    <span *ngIf="attendance[staff.id] === 'leave'">history_toggle_off</span>
                </button>
            </div>
        </div>
    </div>
</div>