<div>
    <div>
        <div>
            <h2>Promotion & Coupons</h2>
            <p>Manage discount codes and promotional offers.</p>
        </div>
        <button>
            <span>add</span>
            <span>Create Coupon</span>
        </button>
    </div>

    <!-- Loading State -->
    <div *ngIf="isLoading$ | async">
        <div>refresh</div>
    </div>

    <div *ngIf="!(isLoading$ | async)">
        <div *ngFor="let coupon of coupons$ | async">
            <div>
                <div>
                    <div>Coupon Code</div>
                    <h2>{{ coupon.code }}</h2>
                </div>
                <div>
                    <div>Usage</div>
                    <div>{{ coupon.usedCount || 0 }} / {{ coupon.usageLimit || '∞' }}
                    </div>
                </div>
            </div>

            <div>
                <div>
                    <div>
                        {{ coupon.discountType === 'percentage' ? coupon.discountValue + '%' : '₹' +
                        (coupon.discountValue | number) }}
                    </div>
                    <div>Discount Value</div>
                </div>
                <div>
                    <span>System Generated</span>
                    <span>Active Offer</span>
                </div>
            </div>

            <div>
                <div>
                    <span>event</span>
                    <span>Expires: {{ coupon.expiryDate | date:'mediumDate' }}</span>
                </div>
                <div>
                    <button>
                        <span>edit</span>
                    </button>
                    <button (click)="deleteCoupon(coupon._id || '')">
                        <span>delete</span>
                    </button>
                </div>
            </div>
        </div>

        <!-- Add Card Placeholder -->
        <div>
            <span>local_offer</span>
            <span>Create New Discount</span>
            <p>Boost registrations with new offers</p>
        </div>
    </div>
</div>