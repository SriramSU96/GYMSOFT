<div>
    <div>
        <div>
            <h1>Account Security</h1>
            <p>Manage your password and security preferences.</p>
        </div>
    </div>

    <div>
        <h3>Change Password</h3>

        <form [formGroup]="passwordForm" (ngSubmit)="onSubmit()">

            <div>
                <label for="currentPassword">Current Password</label>
                <input type="password" id="currentPassword" formControlName="currentPassword"
                    placeholder="Enter current password"
                    [class.error]="passwordForm.get('currentPassword')?.invalid && passwordForm.get('currentPassword')?.touched">
                <div
                    *ngIf="passwordForm.get('currentPassword')?.invalid && passwordForm.get('currentPassword')?.touched">
                    Current password is required
                </div>
            </div>

            <div>
                <label for="newPassword">New Password</label>
                <input type="password" id="newPassword" formControlName="newPassword" placeholder="Minimum 6 characters"
                    [class.error]="passwordForm.get('newPassword')?.invalid && passwordForm.get('newPassword')?.touched">
                <div *ngIf="passwordForm.get('newPassword')?.invalid && passwordForm.get('newPassword')?.touched">
                    New password is required (min 6 chars)
                </div>
            </div>

            <div>
                <label for="confirmPassword">Confirm New Password</label>
                <input type="password" id="confirmPassword" formControlName="confirmPassword"
                    placeholder="Repeat your new password"
                    [class.error]="passwordForm.errors?.['mismatch'] && passwordForm.get('confirmPassword')?.touched">
                <div *ngIf="passwordForm.errors?.['mismatch'] && passwordForm.get('confirmPassword')?.touched">
                    Passwords do not match
                </div>
            </div>

            <div>
                <button type="button">Cancel</button>
                <button type="submit" [disabled]="passwordForm.invalid || isSubmitting">
                    {{ isSubmitting ? 'Updating...' : 'Update Password' }}
                </button>
            </div>

        </form>

        <!-- Success/Error Messages -->
        <div *ngIf="message" [class.badge-success]="messageType === 'success'"
            [class.badge-danger]="messageType === 'error'">
            <div>
                <span>
                    {{ messageType === 'success' ? 'check_circle' : 'error' }}
                </span>
                <span>{{ message }}</span>
            </div>
        </div>

    </div>
</div>